<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">

<h:head>
  <meta charset="utf-8" />
  <link href="#{request.contextPath}/static/bootstrap/css/bootstrap.css" rel="stylesheet"></link>
  <link href="#{request.contextPath}/static/less/system/permission.less" type="text/css" rel="stylesheet/less"></link>
</h:head>

<h:body>
  <h:form id="layoutForm">
    <p:layout fullPage="true">
      <p:layoutUnit position="west" size="330" resizable="true">
        <p:layout>
          <p:layoutUnit position="north" size="50%">

            <table class="user-group-table">
              <tr>
                <td><h:outputText value="权限组列表" /></td>
              </tr>
              <tr class="list-row">
                <td><p:selectOneListbox id="userGroups" widgetVar="userGroups"
                    value="#{userGroupBean.selectedGroupId}" styleClass="user-groups">
                    <f:selectItems value="#{userGroupBean.userGroups}" var="group" itemLabel="#{group.name}"
                      itemValue="#{group.id}" />
                  </p:selectOneListbox></td>
              </tr>
              <tr>
                <td><p:panelGrid columns="1">
                    <p:panelGrid columns="3">
                      <a role="button" class="btn" onclick="pagejs.permission.createUserGroup();">添加组</a>
                      <a role="button" class="btn" onclick="pagejs.permission.modifyUserGroup();">修改组</a>
                      <a role="button" class="btn">删除组</a>
                    </p:panelGrid>
                    <a role="button" class="btn">设置权限组对应的操作员</a>
                  </p:panelGrid></td>
              </tr>
            </table>

          </p:layoutUnit>

          <p:layoutUnit position="center">
            <h:outputText value="Middle south unit content." />
          </p:layoutUnit>
        </p:layout>
      </p:layoutUnit>
      <p:layoutUnit position="center">
      </p:layoutUnit>
    </p:layout>
  </h:form>

  <h:form>
    <p:dialog widgetVar="userGroupDialog" modal="true" resizable="false" dynamic="true" header="权限组"
      styleClass="user-group-dialog">
      <div class="dialog-body form-horizontal">
        <div class="control-group">
          <h:outputLabel value="权限组名称(*)" for="userGroupName" styleClass="control-label" />
          <div class="controls">
            <p:inputText type="hidden" widgetVar="userGroupId" value="#{userGroupBean.userGroup.id}" />
            <p:inputText id="userGroupName" widgetVar="userGroupName" value="#{userGroupBean.userGroup.name}"
              required="true" requiredMessage="请输入权限组名称" />
          </div>
        </div>
        <div>
          <p:message id="userGroupNameMessage" for="userGroupName" />
        </div>
      </div>
      <div class="dialog-footer">
        <p:commandLink actionListener="#{userGroupBean.save}" update=":layoutForm:userGroups,userGroupNameMessage"
          oncomplete="if(!args.validationFailed){userGroupDialog.hide();}" styleClass="btn btn-primary">
          <span class="icon-ok"></span>
          <h:outputText value="确定" />
        </p:commandLink>
        <p:commandLink onclick="userGroupDialog.hide()" styleClass="btn">
          <span class="icon-remove"></span>
          <h:outputText value="取消" />
        </p:commandLink>
      </div>
    </p:dialog>
  </h:form>

  <script src="#{request.contextPath}/static/bootstrap/js/bootstrap.js" type="text/javascript"></script>
  <script src="#{request.contextPath}/static/js/less-1.3.0.min.js" type="text/javascript"></script>
  <script src="#{request.contextPath}/static/js/require.js" type="text/javascript"
    data-main="#{request.contextPath}/static/pagejs/system/permission.js"></script>
</h:body>
</html>